(drl) D:\MyCode\ChargingGame>python debug_ue_dta_performance.py --both

================================================================================
测试 UXsim + Patch
================================================================================

######################################################################
# 测试后端: UXsim + Patch
######################################################################

开始 UE-DTA 迭代...
  迭代   1 | 完成率:  98.4% | GM:  6.57% | 切换: 1334 | 耗时: 24720ms
  迭代   2 | 完成率:  57.6% | GM:  2.04% | 切换: 1120 | 耗时: 30012ms
  迭代   3 | 完成率:  99.4% | GM:  9.97% | 切换: 1514 | 耗时: 27010ms
  迭代   4 | 完成率:  99.5% | GM:  5.11% | 切换:  913 | 耗时: 21501ms
  迭代   5 | 完成率:  99.9% | GM:  4.49% | 切换:  747 | 耗时: 25144ms
  迭代   6 | 完成率:  99.4% | GM:  4.95% | 切换:  737 | 耗时: 22403ms
  迭代   7 | 完成率:  93.4% | GM:  5.50% | 切换:  804 | 耗时: 27439ms
  迭代   8 | 完成率:  79.3% | GM:  3.78% | 切换:  774 | 耗时: 27963ms
  迭代   9 | 完成率:  98.7% | GM:  6.67% | 切换:  731 | 耗时: 22910ms
  迭代  10 | 完成率:  95.9% | GM:  6.11% | 切换:  728 | 耗时: 24301ms
  迭代  11 | 完成率:  98.2% | GM:  6.75% | 切换:  709 | 耗时: 19896ms
  迭代  12 | 完成率:  98.7% | GM:  6.04% | 切换:  633 | 耗时: 23016ms
  迭代  13 | 完成率:  99.6% | GM:  4.89% | 切换:  518 | 耗时: 20283ms
  迭代  14 | 完成率:  99.9% | GM:  3.25% | 切换:  417 | 耗时: 18806ms
  迭代  15 | 完成率:  99.9% | GM:  2.33% | 切换:  281 | 耗时: 21656ms
  迭代  16 | 完成率: 100.0% | GM:  1.68% | 切换:  196 | 耗时: 19137ms
  迭代  17 | 完成率: 100.0% | GM:  1.50% | 切换:  206 | 耗时: 21619ms
  迭代  18 | 完成率: 100.0% | GM:  1.64% | 切换:  192 | 耗时: 21515ms
  迭代  19 | 完成率: 100.0% | GM:  1.12% | 切换:  142 | 耗时: 19215ms
  迭代  20 | 完成率: 100.0% | GM:  1.04% | 切换:  142 | 耗时: 21024ms
  迭代  21 | 完成率: 100.0% | GM:  0.97% | 切换:  109 | 耗时: 18949ms
  迭代  22 | 完成率: 100.0% | GM:  0.95% | 切换:  105 | 耗时: 22020ms
  迭代  23 | 完成率: 100.0% | GM:  0.79% | 切换:   84 | 耗时: 20234ms
  ✓ 收敛于第 23 轮

======================================================================
性能统计摘要: UXsim + Patch
======================================================================
环节                                           次数      总耗时(ms)     平均(ms)
----------------------------------------------------------------------
1. 加载配置                                       1         0.18       0.18
2. 创建模板世界                                     1         0.13       0.13
3. 加载路网                                       1       468.10     468.10
4. 计算路径集合                                     1      6441.62    6441.62
5. 构建OD-车辆映射                                  1         4.82       4.82
6. 初始化路径分配                                    1         1.15       1.15
7.1 创建仿真世界                                   23     31961.51    1389.63
7.2 应用路径到车辆                                  23       302.92      13.17
7.3 执行仿真                                     23    469223.22   20401.01
7.4 路径选择更新                                   23     19283.49     838.41
7.5 收敛判断                                     23         0.04       0.00
----------------------------------------------------------------------
总计                                                 527687.18
======================================================================

================================================================================
测试 uxsimpp_extended
================================================================================

######################################################################
# 测试后端: uxsimpp_extended
######################################################################

开始 UE-DTA 迭代...
  迭代   1 | 完成率:  99.9% | GM:  4.00% | 切换: 1008 | 耗时: 2133ms
  迭代   2 | 完成率:  77.6% | GM:  5.46% | 切换: 1113 | 耗时: 1965ms
  迭代   3 | 完成率:  94.5% | GM:  8.29% | 切换: 1241 | 耗时: 2117ms
  迭代   4 | 完成率:  76.8% | GM:  4.40% | 切换: 1020 | 耗时: 1965ms
  迭代   5 | 完成率:  98.4% | GM:  7.61% | 切换: 1081 | 耗时: 2220ms
  迭代   6 | 完成率:  99.6% | GM:  5.86% | 切换:  870 | 耗时: 2129ms
  迭代   7 | 完成率:  99.6% | GM:  5.18% | 切换:  775 | 耗时: 2107ms
  迭代   8 | 完成率:  99.7% | GM:  2.43% | 切换:  423 | 耗时: 2041ms
  迭代   9 | 完成率:  99.8% | GM:  1.67% | 切换:  283 | 耗时: 2120ms
  迭代  10 | 完成率:  99.8% | GM:  1.52% | 切换:  274 | 耗时: 2040ms
  迭代  11 | 完成率:  99.8% | GM:  1.42% | 切换:  227 | 耗时: 5046ms
  迭代  12 | 完成率:  99.9% | GM:  1.29% | 切换:  240 | 耗时: 2079ms
  迭代  13 | 完成率:  99.9% | GM:  1.21% | 切换:  201 | 耗时: 2209ms
  迭代  14 | 完成率:  99.9% | GM:  1.23% | 切换:  194 | 耗时: 2033ms
  迭代  15 | 完成率:  99.9% | GM:  1.02% | 切换:  154 | 耗时: 2151ms
  迭代  16 | 完成率:  99.9% | GM:  1.62% | 切换:  224 | 耗时: 2220ms
  迭代  17 | 完成率: 100.0% | GM:  1.23% | 切换:  169 | 耗时: 2255ms
  迭代  18 | 完成率: 100.0% | GM:  1.11% | 切换:  158 | 耗时: 2243ms
  迭代  19 | 完成率: 100.0% | GM:  1.28% | 切换:  163 | 耗时: 2326ms
  迭代  20 | 完成率: 100.0% | GM:  1.19% | 切换:  162 | 耗时: 2258ms
  迭代  21 | 完成率: 100.0% | GM:  1.18% | 切换:  134 | 耗时: 2125ms
  迭代  22 | 完成率: 100.0% | GM:  1.12% | 切换:  120 | 耗时: 2110ms
  迭代  23 | 完成率: 100.0% | GM:  0.92% | 切换:  116 | 耗时: 2122ms
  迭代  24 | 完成率: 100.0% | GM:  0.87% | 切换:  113 | 耗时: 2094ms
  迭代  25 | 完成率: 100.0% | GM:  0.99% | 切换:  114 | 耗时: 3000ms
  ✓ 收敛于第 25 轮

======================================================================
性能统计摘要: uxsimpp_extended
======================================================================
环节                                           次数      总耗时(ms)     平均(ms)
----------------------------------------------------------------------
1. 加载配置                                       1         0.35       0.35
2. 创建模板世界                                     1         0.07       0.07
3. 加载路网                                       1      3516.61    3516.61
4. 计算路径集合                                     1      7139.33    7139.33
5. 构建OD-车辆映射                                  1        30.79      30.79
6. 初始化路径分配                                    1         1.53       1.53
7.1 创建仿真世界                                   25      7223.40     288.94
7.2 应用路径到车辆                                  25       472.39      18.90
7.3 执行仿真                                     25      9727.20     389.09
7.4 路径选择更新                                   25     39681.27    1587.25
7.5 收敛判断                                     25         0.05       0.00
----------------------------------------------------------------------
总计                                                  67792.99
======================================================================

================================================================================
性能对比分析
================================================================================

环节                                          UXsim(ms)  uxsimpp(ms)        加速比
--------------------------------------------------------------------------------
1. 加载配置                                          0.18         0.35      0.50x
2. 创建模板世界                                        0.13         0.07      1.73x
3. 加载路网                                        468.10      3516.61      0.13x
4. 计算路径集合                                     6441.62      7139.33      0.90x
5. 构建OD-车辆映射                                     4.82        30.79      0.16x
6. 初始化路径分配                                       1.15         1.53      0.75x
7.1 创建仿真世界                                   31961.51      7223.40      4.42x
7.2 应用路径到车辆                                    302.92       472.39      0.64x
7.3 执行仿真                                    469223.22      9727.20     48.24x
7.4 路径选择更新                                   19283.49     39681.27      0.49x
7.5 收敛判断                                         0.04         0.05      0.78x
--------------------------------------------------------------------------------
总计                                          527687.18     67792.99 7.78x
================================================================================

(drl) D:\MyCode\ChargingGame>